{
    "id": "1446b371-fde5-48b6-8b83-c238ecc47277",
    "scriptName": "ã€Ixiaã€çš„æ°´å°",
    "findRegex": "ã€LaevigataIxiaã€‘",
    "replaceString": "```html\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>ä½œè€…æ°´å°-LaevigataIxia</title>\n    \n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link href=\"https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;500;700&family=Yuji+Syuku&display=swap\" rel=\"stylesheet\">\n\n    <style>\n        body { margin: 0; padding: 0; box-sizing: border-box; background-color: #111; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: 'Noto Serif JP', serif; }\n\n        .gensokyo-portal-standalone-wrapper { width: 100%; display: flex; justify-content: center; align-items: center; }\n\n        .gensokyo-portal-container {\n            --portal-bg-color: #1a1c3a;\n            --portal-bg-gradient: radial-gradient(circle at 50% 50%, rgba(243, 240, 232, 0.05), transparent 70%);\n            --portal-text-primary: #f3f0e8;\n            --portal-text-secondary: #a0a8c2;\n            --portal-accent-color: #e4b981;\n            --portal-link-color: #c5cde0;\n            --portal-link-hover-color: #f3f0e8;\n            --portal-magic-circle-opacity: 0.2;\n            --portal-shadow-color: rgba(228, 185, 129, 0.4);\n            --portal-theme-icon-color: #f3f0e8;\n            \n            --danmaku-yang-color1: #ffd700; --danmaku-yang-color2: #ff8c00; --danmaku-yang-flower: #ff69b4;\n            --danmaku-yin-color1: #add8e6; --danmaku-yin-color2: #e6e6fa; \n            --danmaku-yin-unicode-star: #afeeee;\n            --danmaku-taiji-yin: var(--portal-text-secondary); --danmaku-taiji-yang: var(--portal-text-primary);\n            --marisa-star-body: #FFEB3B; \n            --marisa-star-glow: rgba(255, 245, 157, 0.7);\n        }\n        .gensokyo-portal-container.theme-day {\n            --portal-bg-color: #b0e0e6; \n            --portal-bg-gradient: linear-gradient(to bottom, #87CEEB 0%, #bde6f1 60%, #d8eff7 100%); \n            --portal-text-primary: #3e5062; --portal-text-secondary: #708090; --portal-accent-color: #ff7f50; \n            --portal-link-color: #6a7885; --portal-link-hover-color: #3e5062; --portal-magic-circle-opacity: 0;\n            --portal-shadow-color: rgba(255, 127, 80, 0.3); --portal-theme-icon-color: #3e5062;\n            --danmaku-yang-color1: #f9a825; --danmaku-yang-color2: #ef6c00; --danmaku-yang-flower: #ec407a;\n            --danmaku-yin-color1: #90caf9; --danmaku-yin-color2: #e1f5fe; \n            --danmaku-yin-unicode-star: #80deea;\n            --danmaku-taiji-yin: var(--portal-text-secondary); --danmaku-taiji-yang: #fff;\n            --marisa-star-body: #FFF176; \n            --marisa-star-glow: rgba(255, 250, 200, 0.8);\n        }\n\n        .gensokyo-portal-container {\n            position: relative; width: 90vw; max-width: 800px; height: 90vh; max-height: 720px;\n            border-radius: 8px; box-shadow: 0 0 15px rgba(228, 185, 129, 0.2), 0 5px 30px rgba(0,0,0,0.4);\n            overflow: hidden; text-align: center; background-color: var(--portal-bg-color);\n            background-image: var(--portal-bg-gradient); color: var(--portal-text-primary);\n            transition: background-color 0.8s ease, color 0.8s ease, background-image 0.8s ease; \n            display: flex; flex-direction: column;\n        }\n\n        .theme-toggle-button { position: absolute; top: 20px; right: 25px; z-index: 10; background: transparent; border: none; font-size: 1.5rem; cursor: pointer; color: var(--portal-theme-icon-color); transition: color 0.8s ease, transform 0.3s ease; }\n        .theme-toggle-button:hover { transform: scale(1.1); }\n\n        .content-wrapper { position: relative; z-index: 3; padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 0; container-type: inline-size; flex: 1; }\n        .footer-container { position: relative; z-index: 3; width: 100%; padding: 15px 20px; box-sizing: border-box; flex-shrink: 0; }\n        \n        /* å‰¯æ ‡é¢˜ä¸ä¸»æ ‡é¢˜é—´è·è°ƒæ•´ */\n        .subtitle { font-weight: 300; font-size: 1.1rem; letter-spacing: 0.4em; margin-bottom: 15px; /* åŸä¸º25px */ text-transform: uppercase; color: var(--portal-text-secondary); }\n        .main-title { font-family: 'Yuji Syuku', serif; font-size: clamp(2.5rem, 12cqw, 4.5rem); font-weight: 400; letter-spacing: 0.05em; white-space: nowrap; text-shadow: 0 0 10px var(--portal-shadow-color); color: var(--portal-text-primary); transition: text-shadow 0.4s ease, color 0.8s ease; }\n        .start-button { font-family: 'Noto Serif JP', serif; font-weight: 500; font-size: 1rem; margin-top: 35px; padding: 12px 30px; border: 2px solid var(--portal-accent-color); border-radius: 4px; cursor: pointer; background: var(--portal-accent-color); color: var(--portal-bg-color); transition: all .3s ease-out; }\n        .start-button:hover { filter: brightness(1.1); transform: translateY(-2px); }\n\n        .footer-container { font-size: 0.8rem; color: var(--portal-text-secondary); }\n        .navigation { margin-bottom: 10px; }\n        .nav-link, .copyright a { color: var(--portal-link-color); text-decoration: none; transition: color 0.3s ease; }\n        .nav-link:hover, .copyright a:hover { color: var(--portal-link-hover-color); }\n        .copyright img { height: 18px !important; margin-left: 3px; vertical-align: text-bottom; opacity: 0.7; transition: opacity 0.3s ease; }\n        .copyright a:hover img { opacity: 1; }\n        .gensokyo-portal-container.theme-day .copyright img { filter: invert(0.8); }\n        \n        .sun, .danmaku-field, .starry-sky, .magic-circle { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; opacity: 1; transition: opacity 0.8s ease; display: none; }\n        .danmaku-field { z-index: 1; }\n        .magic-circle { z-index: 2; }\n\n        .gensokyo-portal-container.theme-day .sun,\n        .gensokyo-portal-container.theme-day .danmaku-field { display: block; }\n        .gensokyo-portal-container.theme-day .sun { position:absolute; }\n\n\n        .gensokyo-portal-container:not(.theme-day) .starry-sky,\n        .gensokyo-portal-container:not(.theme-day) .magic-circle { display: block; }\n        .gensokyo-portal-container:not(.theme-day) .magic-circle { position:absolute; }\n        .gensokyo-portal-container:not(.theme-day) .starry-sky { display: block; }\n\n\n        .sun { top:10%; left:15%; width:100px; height:100px; border-radius:50%; background:radial-gradient(ellipse at center, rgba(255,255,245,0.8) 0%, rgba(255,230,180,0.6) 50%, rgba(255,200,100,0) 80%); box-shadow:0 0 35px 15px rgba(255, 220, 150, 0.25), inset 0 0 30px rgba(255, 255, 240, 0.4); transform:translateY(20px); animation:subtle-sun-pulse 10s ease-in-out infinite; }\n        \n        .danmaku-item { position: absolute; top: -5%; opacity: 0; will-change: transform, opacity; animation-name: danmaku-drift; animation-timing-function: linear; animation-iteration-count: infinite; font-weight: normal; line-height: 1; }\n        .danmaku-item.yang-orb { width: 10px; height: 10px; background-color: var(--danmaku-yang-color1); border-radius: 50%; box-shadow: 0 0 5px var(--danmaku-yang-color1), 0 0 10px var(--danmaku-yang-color2); }\n        .danmaku-item.yang-flower { font-size: 20px; color: var(--danmaku-yang-flower); text-shadow: 0 0 3px var(--danmaku-yang-color2); }\n        .danmaku-item.yin-unicode-star { font-size: 22px; color: var(--danmaku-yin-unicode-star); text-shadow: 0 0 5px var(--danmaku-yin-color1); }\n        .danmaku-item.yin-taiji { font-size: 18px; color: var(--danmaku-taiji-yin); }\n        .danmaku-item.yin-taiji.yang-themed { color: var(--danmaku-taiji-yang); }\n\n        .danmaku-item.marisa-star { width: 0; height: 0; border-right: 10px solid transparent; border-bottom: 7px solid var(--marisa-star-body); border-left: 10px solid transparent; position: relative; transform: rotate(35deg); box-shadow: none; }\n        .danmaku-item.marisa-star::before, .danmaku-item.marisa-star::after { content: ''; width: 0; height: 0; border-right: 8px solid transparent; border-bottom: 6px solid var(--marisa-star-body); border-left: 8px solid transparent; position: absolute; top: 2px; }\n        .danmaku-item.marisa-star::before { left: -8.5px; transform: rotate(-70deg); }\n        .danmaku-item.marisa-star::after { left: -1.5px; transform: rotate(70deg); }\n        .danmaku-item.marisa-star > .star-glow { position: absolute; width: 100%; height: 100%; left: -50%; top: -50%; border-radius: 50%; box-shadow: 0 0 10px 4px var(--marisa-star-glow); opacity: 0.7; }\n\n        .starry-sky { inset: 0; background-color: transparent; background-image: radial-gradient(circle, rgba(255,255,255,0.7) 0.5px, transparent 0.6px), radial-gradient(circle, rgba(220,220,255,0.6) 0.6px, transparent 0.7px), radial-gradient(circle, rgba(255,255,255,0.8) 0.8px, transparent 1px), radial-gradient(circle, rgba(230,230,255,0.7) 1px, transparent 1.2px), radial-gradient(circle, white 1.2px, transparent 1.5px), radial-gradient(circle, rgba(240,240,255,0.9) 1.5px, transparent 1.8px); background-repeat: repeat; background-size: 50px 50px, 70px 70px, 110px 110px, 150px 150px, 230px 230px, 300px 300px; background-position: 0px 0px, 10px 30px, 25px 75px, 50px 20px, 100px 120px, 180px 50px; animation: slow-star-drift 300s linear infinite alternate; }\n        \n        .magic-circle{top:50%;left:50%;width:400px;height:400px;margin:-200px 0 0 -200px;border-radius:50%;border:2px dashed var(--portal-accent-color);opacity:var(--portal-magic-circle-opacity);will-change:transform,opacity;animation:spin 60s linear infinite,subtle-pulse 8s ease-in-out infinite;transition:opacity .8s ease,border-color .8s ease}\n        .magic-circle::before,.magic-circle::after{content:'';position:absolute;top:50%;left:50%;border:1px solid var(--portal-accent-color);border-radius:50%;transition:border-color .8s ease}\n        .magic-circle::before{width:70%;height:70%;transform:translate(-50%,-50%)}.magic-circle::after{width:40%;height:40%;transform:translate(-50%,-50%)}\n        .gensokyo-portal-container:not(.theme-day) .magic-circle { opacity: var(--portal-magic-circle-opacity); }\n        .gensokyo-portal-container.theme-day .magic-circle { opacity: 0; }\n\n\n        @keyframes danmaku-drift { 0% { transform: translateY(0vh) translateX(0px) rotate(0deg) scale(var(--start-scale, 1)); opacity: 0; } 10% { opacity: 1; } 50% { transform: translateY(50vh) translateX(calc(var(--sway-factor, 0.5) * 20px)) rotate(calc(var(--rotation-factor, 1) * 180deg)) scale(var(--mid-scale, var(--start-scale, 1))); } 90% { opacity: 0.8; } 100% { transform: translateY(105vh) translateX(calc(var(--sway-factor, 0.5) * 40px)) rotate(calc(var(--rotation-factor, 1) * 360deg)) scale(var(--end-scale, var(--start-scale, 1))); opacity: 0; } }\n        @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}\n        @keyframes subtle-pulse{0%,100%{opacity:var(--portal-magic-circle-opacity)}50%{opacity:calc(var(--portal-magic-circle-opacity) * 1.5)}}\n        @keyframes subtle-sun-pulse{0%,100%{transform:scale(1) translateY(0)}50%{opacity: 1; transform:scale(1.03) translateY(-5px)}}\n        @keyframes slow-star-drift { from { background-position: 0px 0px, 10px 30px, 25px 75px, 50px 20px, 100px 120px, 180px 50px; } to { background-position: -100px 50px, -90px 80px, -75px 125px, -50px 70px, 0px 170px, 80px 100px; } }\n    </style>\n</head>\n<body>\n\n    <div class=\"gensokyo-portal-standalone-wrapper\">\n        <div class=\"gensokyo-portal-container\">\n            <button class=\"theme-toggle-button\" title=\"åˆ‡æ¢ä¸»é¢˜\">ğŸŒ™</button>\n            \n            <!-- æ—¥é—´é™æ€å…ƒç´ ï¼šå¤ªé˜³ -->\n            <div class=\"sun\"></div>\n            <!-- æ—¥é—´åŠ¨æ€å…ƒç´ ï¼šé˜´é˜³å¼¹å¹•åœº -->\n            <div class=\"danmaku-field\">\n                <!-- å‡å°‘äº†å¼¹å¹•æ•°é‡ä»¥é¿å…è¿‡äºå¯†é›† -->\n                <div class=\"danmaku-item yang-orb\"></div> \n                <div class=\"danmaku-item yin-unicode-star\">â‡</div>\n                <div class=\"danmaku-item yang-flower\">â€</div> \n                <div class=\"danmaku-item marisa-star\"><div class=\"star-glow\"></div></div>\n\n                <div class=\"danmaku-item yang-orb\"></div> \n                <div class=\"danmaku-item yin-taiji\">â˜¯</div>\n                <div class=\"danmaku-item yang-flower\">âœ¿</div> \n                <div class=\"danmaku-item marisa-star\"><div class=\"star-glow\"></div></div>\n                \n                <div class=\"danmaku-item yang-orb\"></div> \n                <div class=\"danmaku-item yin-unicode-star\">âˆ</div>\n                <div class=\"danmaku-item yin-taiji yang-themed\">â˜¯</div>\n                <div class=\"danmaku-item marisa-star\"><div class=\"star-glow\"></div></div>\n            </div>\n            <!-- å¤œé—´é™æ€å…ƒç´ ï¼šæ˜Ÿç©º -->\n            <div class=\"starry-sky\"></div>\n            <!-- å¤œé—´åŠ¨æ€å…ƒç´ ï¼šé­”æ³•é˜µ -->\n            <div class=\"magic-circle\"></div>\n            \n            <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->\n            <main class=\"content-wrapper\">\n                <div class=\"subtitle\">å¡ç‰‡ä½œè€…</div>\n                <h1 class=\"main-title\">LaevigataIxia</h1>\n                <button class=\"start-button\" onclick=\"startGame()\">å¼€å§‹æ¸¸æˆ</button>\n            </main>\n            \n            <!-- é¡µè„šåŒºåŸŸ ç±»è„‘ä¸æ—…ç¨‹ä¸è®¸å¯è¯ -->\n            <footer class=\"footer-container\">\n                <nav class=\"navigation\"><a href=\"https://discord.gg/nJecqe5HUx\" class=\"nav-link\" target=\"_blank\">ç±»è„‘ÎŸÎ”Î¥Î£Î£Î•Î™Î‘</a></nav>\n                <nav class=\"navigation\"><a href=\"https://discord.gg/elysianhorizon\" class=\"nav-link\" target=\"_blank\">æ—…ç¨‹ÎŸÎ¡Î™Î–ÎŸÎÎ¤Î‘Î£</a></nav>\n                <div class=\"copyright\"><p xmlns:cc=\"http://creativecommons.org/ns#\">This work is licensed under <a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" target=\"_blank\" rel=\"license noopener noreferrer\" style=\"display:inline-block;\">CC BY-NC-SA 4.0<img style=\"height:18px!important;margin-left:3px;vertical-align:text-bottom;\" src=\"https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1\" alt=\"CC ç½²åå›¾æ ‡\"><img style=\"height:18px!important;margin-left:3px;vertical-align:text-bottom;\" src=\"https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1\" alt=\"ç½²åå›¾æ ‡\"><img style=\"height:18px!important;margin-left:3px;vertical-align:text-bottom;\" src=\"https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1\" alt=\"éå•†ä¸šæ€§ä½¿ç”¨å›¾æ ‡\"><img style=\"height:18px!important;margin-left:3px;vertical-align:text-bottom;\" src=\"https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1\" alt=\"ç›¸åŒæ–¹å¼å…±äº«å›¾æ ‡\"></a></p></div>\n            </footer>\n        </div>\n    </div>\n\n    <script>\n        // startGame å‡½æ•°\n        function startGame() {\n            setChatMessage(\"è‡ªå®šä¹‰å¼€åœºç™½\", getCurrentMessageId());\n        }\n\n        // ä¸»é¢˜åˆ‡æ¢å’Œå¼¹å¹•éšæœºåŒ–é€»è¾‘ (IIFE ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼Œé¿å…æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ)\n        (function() {\n            const portalContainer = document.querySelector('.gensokyo-portal-container');\n            const themeToggleButton = document.querySelector('.theme-toggle-button');\n            const danmakuItems = document.querySelectorAll('.danmaku-field .danmaku-item'); // è·å–æ‰€æœ‰å¼¹å¹•å…ƒç´ \n\n            // æ£€æŸ¥æ ¸å¿ƒå…ƒç´ æ˜¯å¦å­˜åœ¨\n            if (!portalContainer || !themeToggleButton) {\n                console.error(\"å¹»æƒ³ä¹¡é—¨æˆ·æ ¸å¿ƒå…ƒç´ æœªæ‰¾åˆ°ï¼Œè„šæœ¬æ— æ³•åˆå§‹åŒ–ã€‚\");\n                return;\n            }\n\n            // ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°\n            function getRandom(min, max) { return Math.random() * (max - min) + min; }\n\n            // éšæœºåŒ–å•ä¸ªå¼¹å¹•çš„æ ·å¼\n            function randomizeDanmaku() {\n                // ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼šå¦‚æœå±å¹•è¿‡çª„ä¸”å¼¹å¹•æ•°é‡è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘ç®€åŒ–æˆ–å‡å°‘åŠ¨ç”»\n                // æ­¤å¤„ç¤ºä¾‹ï¼šå¦‚æœå¼¹å¹•è¶…è¿‡8ä¸ªä¸”æ˜¯ç§»åŠ¨ç«¯ï¼Œåˆ™å¯èƒ½é‡‡å–æªæ–½\n                // å½“å‰ä»£ç ä¿æŒå¯¹æ‰€æœ‰å¼¹å¹•éšæœºåŒ–ï¼Œå…·ä½“ä¼˜åŒ–å¯åœ¨æ­¤å¤„æ·»åŠ \n                // if (window.innerWidth <= 768 && danmakuItems.length > 8) { ... }\n\n                danmakuItems.forEach(item => {\n                    item.style.left = `${getRandom(5, 95)}%`; // éšæœºæ¨ªå‘èµ·å§‹ä½ç½®\n                    \n                    let duration = getRandom(7, 15); // é»˜è®¤åŠ¨ç”»æ—¶é•¿\n                    let sway = getRandom(-1.5, 1.5);    // é»˜è®¤æ‘‡æ‘†å¹…åº¦\n                    let rotation = getRandom(-2, 2);  // é»˜è®¤æ—‹è½¬å¹…åº¦\n                    let scale = getRandom(0.7, 1.2);    // é»˜è®¤ç¼©æ”¾å¤§å°\n\n                    // å¯¹é­”ç†æ²™æ˜Ÿå‹å¼¹å¹•åº”ç”¨ç‰¹å®šå‚æ•°\n                    if (item.classList.contains('marisa-star')) {\n                        duration = getRandom(4, 8);   // é­”ç†æ²™çš„æ˜Ÿæ˜Ÿæ›´å¿«\n                        sway = getRandom(-0.3, 0.3);  // æ‘‡æ‘†å¹…åº¦æ›´å°\n                        rotation = getRandom(-0.5, 0.5); // æ—‹è½¬å¹…åº¦æ›´å°ï¼Œè½¨è¿¹æ›´ç›´æ¥\n                        scale = getRandom(0.9, 1.3); // æ˜Ÿæ˜Ÿå¯ä»¥ç¨å¤§ä¸€äº›\n                    }\n                    \n                    item.style.animationDuration = `${duration}s`;\n                    // éšæœºåŠ¨ç”»å»¶è¿Ÿï¼Œç¡®ä¿å¼¹å¹•ä¸åŒæ—¶å‡ºç°ï¼Œå»¶è¿Ÿæ—¶é—´å°äºåŠ¨ç”»æ€»æ—¶é•¿\n                    item.style.animationDelay = `-${getRandom(0, duration * 0.9)}s`; \n                    \n                    // è®¾ç½®CSSå˜é‡ï¼Œä¾›@keyframesä½¿ç”¨\n                    item.style.setProperty('--start-scale', scale);\n                    item.style.setProperty('--mid-scale', scale * getRandom(0.9, 1.1)); // åŠ¨ç”»ä¸­é€”çš„ç¼©æ”¾å˜åŒ–\n                    item.style.setProperty('--end-scale', scale * getRandom(0.8, 1));   // åŠ¨ç”»ç»“æŸæ—¶çš„ç¼©æ”¾å˜åŒ–\n                    item.style.setProperty('--sway-factor', sway);\n                    item.style.setProperty('--rotation-factor', rotation);\n                    \n                    // é‡å¯åŠ¨ç”»çš„å…³é”®æ­¥éª¤ï¼š\n                    // 1. ç§»é™¤åŠ¨ç”»åç§°ï¼Œä½¿å…ƒç´ æš‚æ—¶è„±ç¦»åŠ¨ç”»æ§åˆ¶\n                    item.style.animationName = 'none'; \n                    // 2. å¼ºåˆ¶æµè§ˆå™¨é‡ç»˜/å›æµè¯¥å…ƒç´ ï¼Œç¡®ä¿åŠ¨ç”»çŠ¶æ€è¢«æ¸…é™¤\n                    void item.offsetWidth; \n                    // 3. é‡æ–°èµ‹äºˆåŠ¨ç”»åç§°ï¼Œä½¿å…¶ä»å¤´å¼€å§‹æ’­æ”¾\n                    item.style.animationName = 'danmaku-drift'; \n                });\n            }\n\n            // æ›´æ–°ä¸»é¢˜ç›¸å…³çš„è§†è§‰å…ƒç´ ï¼ˆæŒ‰é’®æ–‡å­—ã€æ ‡é¢˜ï¼Œä»¥åŠè§¦å‘å¼¹å¹•éšæœºåŒ–ï¼‰\n            function updateThemeVisuals() {\n                const isDay = portalContainer.classList.contains('theme-day');\n                if (isDay) {\n                    themeToggleButton.textContent = 'â˜€ï¸';\n                    themeToggleButton.title = 'åˆ‡æ¢åˆ°å¤œé—´æ¨¡å¼';\n                    const danmakuField = portalContainer.querySelector('.danmaku-field');\n                    // ä»…å½“å¼¹å¹•åŒºåŸŸå®é™…æ˜¾ç¤ºæ—¶æ‰æ‰§è¡ŒéšæœºåŒ–ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—\n                    if (danmakuField && getComputedStyle(danmakuField).display !== 'none') {\n                         randomizeDanmaku();\n                    }\n                } else {\n                    themeToggleButton.textContent = 'ğŸŒ™';\n                    themeToggleButton.title = 'åˆ‡æ¢åˆ°ç™½æ˜¼æ¨¡å¼';\n                }\n            }\n            \n            // ä¸»é¢˜åˆ‡æ¢æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ç›‘å¬\n            themeToggleButton.addEventListener('click', function() {\n                portalContainer.classList.toggle('theme-day'); // åˆ‡æ¢ä¸»é¢˜ç±»\n                updateThemeVisuals(); // æ›´æ–°è§†è§‰è¡¨ç°\n            });\n\n            // DOMåŠ è½½å®Œæˆåï¼Œæ ¹æ®å½“å‰æ—¶é—´è®¾ç½®åˆå§‹ä¸»é¢˜\n            document.addEventListener('DOMContentLoaded', function() {\n                setThemeByTime(); \n            });\n\n            // æ ¹æ®åŒ—äº¬æ—¶é—´è®¾ç½®ç™½å¤©/å¤œæ™šä¸»é¢˜\n            function setThemeByTime() { \n                try {\n                    const beijingHour = parseInt(new Date().toLocaleTimeString('en-GB', { timeZone: 'Asia/Shanghai', hour: '2-digit', hour12: false }));\n                    if (beijingHour >= 6 && beijingHour < 18) { // æ—©6ç‚¹åˆ°æ™š6ç‚¹å‰ä¸ºç™½å¤©\n                        portalContainer.classList.add('theme-day'); \n                    } else { \n                        portalContainer.classList.remove('theme-day'); \n                    }\n                } catch (error) { \n                    console.error(\"æ— æ³•æ ¹æ®æ—¶é—´è‡ªåŠ¨è®¾ç½®ä¸»é¢˜:\", error); \n                }\n                updateThemeVisuals(); // æ›´æ–°è§†è§‰è¡¨ç°\n            }\n\n        })();\n    </script>\n\n</body>\n</html>\n```",
    "trimStrings": [],
    "placement": [
        2
    ],
    "disabled": false,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": null,
    "maxDepth": 2
}